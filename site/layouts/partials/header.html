<!--
  ~ Jano Ticketing website
  ~ Copyright (C) 2018-2019 Andrew Ying and other contributors.
  ~
  ~ This file is part of Jano Ticketing website.
  ~
  ~ Jano Ticketing website is free software: you can redistribute it and/or
  ~ modify it under the terms of the GNU Affero General Public License
  ~ v3.0 supplemented by additional permissions and terms as published at
  ~ COPYING.md.
  ~
  ~ Jano Ticketing website is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public
  ~ License along with this program. If not, see
  ~ <http://www.gnu.org/licenses/>.
  -->

<nav class="header navbar-expand-lg navbar-light">
    <div class="container d-flex py-3">
        <a href="/" class="navbar-brand">
            <img src="https://assets.janoticketing.co.uk{{ "/images/logo.png" | absURL }}" alt="Jano" class="header__logo" />
        </a>
        <div class="collapse navbar-collapse">
            {{ $currentPage := . }}
            <ul class="navbar-nav ml-auto">
                {{ range .Site.Menus.main }}
                {{ if .HasChildren }}
                <li class="nav-item dropdown{{ if $currentPage.HasMenuCurrent "main" . }} active{{ end }}">
                    <a class="nav-link dropdown-toggle header__link" href="#" id="navbarDropdown{{ .Identifier }}"
                       role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        {{ .Name }}
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown{{ .Identifier }}">
                        {{ range .Children }}
                        <a class="dropdown-item{{ if $currentPage.IsMenuCurrent "main" . }} active{{ end }}"
                            href="{{ relURL .URL }}">{{ .Name }}</a>
                        {{ end }}
                    </div>
                </li>
                {{ else }}
                <li class="nav-item{{ if $currentPage.IsMenuCurrent "main" . }} active{{ end }}">
                    <a class="nav-link header__link" href="{{ relURL .URL }}">{{ .Name }}</a>
                </li>
                {{ end }}
                {{ end }}
            </ul>
        </div>
    </div>
</nav>
